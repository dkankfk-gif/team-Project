<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/sub_01.css">
    <link rel="stylesheet" href="font/font.css">
    <link rel="stylesheet" href="css/sub_01_act.css">
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
</head>
<body>
    <div class="wrap">
        <header>
            <a href="#" class="logo"><img src="img/logo.svg" alt=""></a>
            <ul class="nav en">
                <li><a href="#">HOME</a></li>
                <li><a href="#">BRAND</a></li>
                <li><a href="#">PRODUCTS</a></li>
                <li><a href="#">CONTACT</a></li>
            </ul>
            <ul class="menu-icon">
                <li><a href="#"><p class="img"><img src="img/shopping-bag-01.svg" alt=""></p></a></li>
                <li><a href="#"><p class="img"><img src="img/menu-01.svg" alt=""></p></a></li>
            </ul>
        </header>
    </div>
    

        <!-- main -->
<section class="main">
<div class="inner">

    <div class="left">
    <ul class="main-Keyword en">
        <li class="pill pill--white">Nature</li>

        <!-- 잎 아이콘  -->
        <li class="pill pill--icon">
        <img src="img/Group 1287_leaf.svg" alt="">
        </li>

        <!-- 빈 원  -->
        <li class="pill pill--circle" aria-hidden="true"></li>

        <li class="pill pill--white">Confidence</li>
        <li class="pill pill--white">Heritage</li>
        <li class="pill pill--white">Balance</li>
        <li class="pill pill--white">Love</li>
        <li class="pill pill--white">Breath</li>
    </ul>


    
        <div class="main-Small">

            <!-- dot  -->
            <ul>
                <li><a href="#" class="btn"></a></li>
                <li><a href="#" class="btn"></a></li>
                <li><a href="#" class="btn"></a></li>
            </ul>

            <p>Harnessing the true Power of nature we bring gentle comfort to your everyday skin Cleaner</p>

            <div class="video">
                <video autoplay="" muted="" loop="" playsinline=""><source src="img/main_sub.mp4"></video>
            </div> 
        </div>


            <div class="txtBoxBottom">
              <p class="semi">The Face Shop</p>
              <p class="set"> treats <span class="bold">your skin</span></p>
              <p class="ital">with love.</p>
            </div>

        </div>


        <div class="right">
            <img src="img/main_img.svg" alt="">
            <a href="#" class="btn">Try For Free<img src="img/arrow-narrow-right.svg" alt=""></a>
        </div>
        </div>
</section>




<!-- typo -->



<section class="typo" id="typo">
  <div class="inner">
    <h1 class="tit1">
      Nature<br>
      Powered<span class="slot slot-1"><img src="img/typo_product1.png" alt=""></span>skin<br>
      Loving <span class="gray">care that</span><br>
      <span class="gray">feels<span class="slot slot-2"><img src="img/typo_product2.png" alt=""></span>Effortless!</span>
    </h1>
  </div>
</section>


<script>
document.addEventListener('DOMContentLoaded', () => {
  const section = document.querySelector('.typo');
  const title = section?.querySelector('.tit1');
  if (!section || !title) return;

  // 원본(이미지 슬롯/gray 포함)을 보존한 채, <br> 기준으로 "줄 단위" 래핑
  const raw = title.innerHTML;

  // br을 기준으로 줄 나누기 (br, br/, br / 모두 대응)
  const lines = raw
    .split(/<br\s*\/?>/i)
    .map(s => s.trim())
    .filter(Boolean);

  // 줄 래핑 적용
  title.innerHTML = lines
    .map(lineHTML => `<span class="line"><span class="line-inner">${lineHTML}</span></span>`)
    .join('');

  //  반복 재생: 들어오면 show, 나가면 hide
  const io = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        section.classList.add('is-inview');
      } else {
        section.classList.remove('is-inview');
        // 재진입 시 애니메이션이 확실히 다시 시작되도록 리셋
        void title.offsetHeight;
      }
    });
  }, {
    threshold: 0.35,
    rootMargin: "0px 0px -10% 0px"
  });

  io.observe(section);
});
</script>









<!-- ingre -->
  <section class="ingre">
        <div class="inner">
            <div class="ingre-leftbox">



<div class="card-clip">

  <!-- 노란: 아래 → 위 -->
  <div class="col col--up">
    <div class="track">

      <!-- 원본 -->
      <ul class="card">
        <li>
          <a href="#">
            <img src="img/ingre_leaf.png" alt="">
            <p class="textbox"><span class="b">Camellia Sinensis</span>Leaf Extract</p>
          </a>
        </li>
        <li>
          <a href="#">
            <img src="img/ingre_clay.png" alt="">
            <p class="textbox"><span class="b">Camellia Sinensis</span>Leaf Extract</p>
          </a>
        </li>
        <li>
          <a href="#">
            <img src="img/ingre_seed_oil.png" alt="">
            <p class="textbox"><span class="b">Camellia Sinensis</span>Leaf Extract</p>
          </a>
        </li>
      </ul>

      <!-- 복제(무한루프용) -->
      <ul class="card" aria-hidden="true">
        <li>
          <a href="#">
            <img src="img/ingre_leaf.png" alt="">
            <p class="textbox"><span class="b">Camellia Sinensis</span>Leaf Extract</p>
          </a>
        </li>
        <li>
          <a href="#">
            <img src="img/ingre_clay.png" alt="">
            <p class="textbox"><span class="b">Camellia Sinensis</span>Leaf Extract</p>
          </a>
        </li>
        <li>
          <a href="#">
            <img src="img/ingre_seed_oil.png" alt="">
            <p class="textbox"><span class="b">Camellia Sinensis</span>Leaf Extract</p>
          </a>
        </li>
      </ul>

    </div>
  </div>

  <!-- 초록: 위 → 아래 -->
  <div class="col col--down">
    <div class="track">

      <!-- 원본 -->
      <ul class="card2">
        <li>
          <a href="#">
            <img src="img/ingre_extract.png" alt="">
            <p class="textbox"><span class="b">Camellia Sinensis</span>Leaf Extract</p>
          </a>
        </li>
        <li>
          <a href="#">
            <img src="img/ingre_salt.png" alt="">
            <p class="textbox"><span class="b">Camellia Sinensis</span>Leaf Extract</p>
          </a>
        </li>
        <li>
          <a href="#">
            <img src="img/ingre_extract2.png" alt="">
            <p class="textbox"><span class="b">Camellia Sinensis</span>Leaf Extract</p>
          </a>
        </li>
        <li>
          <a href="#">
            <img src="img/ingre_bamdoo.png" alt="">
            <p class="textbox"><span class="b">Camellia Sinensis</span>Leaf Extract</p>
          </a>
        </li>
      </ul>

      <!-- 복제(무한루프용) -->
      <ul class="card2" aria-hidden="true">
        <li>
          <a href="#">
            <img src="img/ingre_extract.png" alt="">
            <p class="textbox"><span class="b">Camellia Sinensis</span>Leaf Extract</p>
          </a>
        </li>
        <li>
          <a href="#">
            <img src="img/ingre_salt.png" alt="">
            <p class="textbox"><span class="b">Camellia Sinensis</span>Leaf Extract</p>
          </a>
        </li>
        <li>
          <a href="#">
            <img src="img/ingre_extract2.png" alt="">
            <p class="textbox"><span class="b">Camellia Sinensis</span>Leaf Extract</p>
          </a>
        </li>
        <li>
          <a href="#">
            <img src="img/ingre_bamdoo.png" alt="">
            <p class="textbox"><span class="b">Camellia Sinensis</span>Leaf Extract</p>
          </a>
        </li>
      </ul>

      

    </div>
    
  </div>

</div>


      </div>
          <div class="ingre-rightbox">

                <p class="tit">600+</p>

                <p class="txt">Carefully Selected <span>Ingredients</span></p>


                <p class="txt2">Lgredients shaped <span>by nature</span> <br class="mo"> Remembered <span>by your skin!</span></p>
          </div>
      </div>
    </section>


    <!-- story -->
    <section class="story">
        <div class="inner">
            <div class="top-textBox">

                <p class="sub-tit">The perfect purity created by nature,</p>

                <p class="tit">Your skin remembers it all day long. </p>

                <p class="sub-tit2">자연이 만들어지는 완전한 순수함을, 온종일 피부가 기억합니다.</p>
            </div>
            <div class="bottom-textBox">
                <ul>
                    <li class="txt"><p>더페이스샵은 자연이 가진 순수한 힘에서 피부의 해답을 찾으며,<br class="mo">
                    자연 유래 성분을 가장 중요한 원료를 기준으로 합니다. 우리는<br class="mo">피부에 자극 없이 편안하게 스며드는 순한 처방을 위해 모든<br class="mo">성분을 정직하게 선택하고 투명하게 공개합니다.</p>
                    </li>
                    <li class="txt"><p>자연의 본래 힘을 해치지 않는 방식으로 추출된 원료는 매일<br class="mo">
                    의 스킨케어에 안전한 편안함을 전달합니다. 더페이스샵은<br class="mo">자연에서 온 진정성과 신뢰를 담아, 피부가 안심하고 사용할<br class="mo">수 있는 깨끗한 아름다움을 연구합니다.</p>
                    </li>
                </ul>
            </div>
        </div>
    </section>


    <!-- keyword -->
    <section class="keyword">
        <div class="inner">
            <video class="face" autoplay muted loop playsinline><source src="img/brand_story_main.mp4"></video>
            <div class="textBox">
            </div>
            <div class="rows">
                <ul class="list a">
                    <li>Nature</li>
                    <li>Pure</li>
                    <li class="italic">Dew</li>
                    <li>Leaf</li>
                </ul>
                <ul class="list b">
                    <li>Herb</li>
                    <li class="love">L<span>ove</span></li>
                    <li class="italic">Calm</li>
                </ul>
                <ul class="list c">
                    <li class="italic">Glow</li>
                    <li>turn</li>
                    <li>Clean</li>
                    <li>Fresh</li>
                    <li>Earth</li>
                </ul>
            </div>
        </div>
    </section>


    <!-- story -->
    <section class="story">
        <div class="inner">
            <div class="top-textBox">
                <p class="sub-tit">Responsible choices for the environment,</p>
                <p class="tit">our beauty begins there. </p>
                <p class="sub-tit2">환경을 위한 책임 있는 선택, 우리의 아름다움은 그곳에서 시작됩니다.</p>
            </div>
            <div class="bottom-textBox">
                <ul>
                    <li class="txt"><p>우리는 자연을 소비하지 않고 지켜가는 방식으로 아름다움을 만들어갑니다.<br>자연의 흐름을 해치지 않는 제조 방식을 핵심 원칙으로 삼으며, 제품이 만들<br>어지는 모든 과정에서 환경 영향을 최소화하고자 노력합니다. 또한 재활용<br>가능한 친환경 패키지를 사용해 자원을 절약하고 책임 있게 생산합니다.</p>
                    </li>
                    <li class="txt"><p>이러한 노력은 단순한 선택이 아니라 지속가능한 미래를 향한<br>우리의 의지입니다.더페이스샵은 오늘의 아름다움이 내일의<br>자연을 해치지 않도록, 환경과 함께 나아가는 브랜드가 되기<br>위해 책임 있는 변화를 꾸준히 이어가고 있습니다.</p>
                    </li>
                </ul>             
            </div>
        </div>
    </section>



    <!-- Package Section -->

<section class="Package" id="Package">
  <div class="inner">

    <div class="top">
      <h2>
        Nature our Core,<br>
        Design Every Detail,<br>
        Sustainability in Every Choice.
      </h2>
    </div>

    <div class="middle">

      <div class="left">
        <p>Where Nature and Design <br>Shape a Better Beauty</p>
      </div>

      <!--  오른쪽: 썸네일(좌) + copy(우) -->
      <div class="right">

        <!--   썸네일/확대 스테이지 -->
        <div class="thumb-stage" id="thumbStage">
          <div class="thumb-sticky" id="thumbSticky">

            <div class="thumb-canvas" id="thumbCanvas">
              <!-- 큰 이미지(배경이 될 이미지) -->
              <img src="img/package_big.svg" class="img-large" alt="">

              <!-- 창문틀 프레임(썸네일 위에 덮는 이미지) -->
              <img src="img/Package_img1.svg" class="img-frame" alt="">
            </div>

          </div>
        </div>

        <!-- copy -->
        <div class="right-txt">
          <ul class="copy" id="packageCopy">
            <li>
              <p>
                우리는 자연이 건네는 가장 순수한 영감을 바탕으로, 피부와 환경 모두에 이로운 아름다움을 설계합니다.
                더페이스샵의 비건 철학은 단순히 성분을 넘어, 제품을 담아내는 모든 요소까지 확장됩니다.
                환경 부담을 줄이기 위해 재활용이 가능한 용기와 식물성 원료 기반의 패키지 소재를 선택하고,
                최소한의 잉크와 공정을 사용해 자연의 흐름을 거스르지 않는 디자인을 완성합니다.
              </p>
            </li>
            <li>
              <p>
                지속 가능한 아름다움은 작은 선택에서 시작됩니다. 우리의 모든 패키지는 사용 후에도 또 한 번의 생명을
                이어갈 수 있도록 고민하며 제작됩니다. 자연을 닮은 부드러운 색감, 불필요한 장식을 덜어낸 형태,
                그리고 가벼운 소재는 지구를 향한 존중과 섬세한 미학을 함께 담아냅니다.
              </p>
            </li>
            <li>
              <p>
                더페이스샵은 자연의 숨을 해치지 않는 기술과 감성을 일상 속에 스며들게 하며,
                지속 가능한 미래를 위한 ‘순환형 아름다움’을 제안합니다.
              </p>
            </li>
          </ul>
        </div>

      </div><!-- /.right -->

    </div><!-- /.middle -->

  </div><!-- /.inner -->
</section>

<script>
document.addEventListener("DOMContentLoaded", () => {
  gsap.registerPlugin(ScrollTrigger);

  const section = document.querySelector("#Package");
  const inner   = section?.querySelector(".inner");

  const stage   = document.querySelector("#thumbStage");
  const sticky  = document.querySelector("#thumbSticky");
  const canvas  = document.querySelector("#thumbCanvas");

  const frame   = canvas?.querySelector(".img-frame");
  const copy    = document.querySelector("#packageCopy"); // copy는 끝까지 유지

  if (!section || !inner || !stage || !sticky || !canvas) return;

  /* =========================
     설정값
  ========================= */
  const EXPAND_AT   = 0.55; //  확대 시작 지점(섹션 진행 70%부터)
  const SLOW_HEAD   = 0.05;  /* 확대 구간 중 "초반 슬로우(거의 정지)" 비율 (0~1) */
  const FRAME_FADE  = 0.55; // 확대 구간에서 frame 페이드가 끝나는 시점(비율)

  let fromInInner = { x: 0, y: 0 };
  let stageW = 0, stageH = 0;
  let needExtra = 0;

  /* =========================
     초기화 & 좌표/필요 여백 계산
  ========================= */
  function setInitialAndMeasure(){
    const stageRect = stage.getBoundingClientRect();
    stageW = stageRect.width;
    stageH = stageRect.height;

    // canvas 초기 상태(썸네일 크기)
    gsap.set(canvas, {
      x: 0,
      y: 0,
      width: stageW,
      height: stageH,
      borderRadius: "220px 220px 22px 22px",
      overflow: "hidden",
      transformOrigin: "0% 0%",
      willChange: "transform,width,height,border-radius"
    });

    // frame/copy 초기 상태
    if (frame) gsap.set(frame, { autoAlpha: 1 });
    if (copy)  gsap.set(copy,  { autoAlpha: 1 });

    //  inner 기준 이동값 계산
    const innerRect  = inner.getBoundingClientRect();
    const canvasRect = canvas.getBoundingClientRect();

    fromInInner = {
      x: canvasRect.left - innerRect.left,
      y: canvasRect.top  - innerRect.top
    };

    //  아래 섹션 침범 방지 여백
    const targetH = inner.clientHeight;
    needExtra = Math.max(0, targetH - stageH);

    // 초기 여백 0
    section.style.setProperty("--pkg-extra", "0px");
  }

  setInitialAndMeasure();

  /* =========================
     타임라인
  ========================= */
  const tl = gsap.timeline({
    scrollTrigger: {
      trigger: section,
      start: "top top",
      end: "bottom top",
      scrub: true,
      pin: sticky,
      pinSpacing: true,
      invalidateOnRefresh: true,
      onRefresh: () => setInitialAndMeasure()
    }
  });

  /* =========================
     1) 대기(섹션 진행 EXPAND_AT까지)
  ========================= */
  tl.to({}, { duration: EXPAND_AT });

  /* =========================
     2) 확대 구간을 "초반 슬로우 헤드 + 본 확대"로 쪼개기
        - 초반 SLOW_HEAD 비율만큼은 거의 변화 없음(살짝만)
        - 나머지에서 본격 확대 (power2.inOut)
  ========================= */
  const expandDur = (1 - EXPAND_AT);
  const headDur   = expandDur * SLOW_HEAD;          // 초반 슬로우 구간
  const bodyDur   = expandDur * (1 - SLOW_HEAD);    // 본 확대 구간

  // (A) 초반 슬로우: "거의 정지" 느낌 (아주 미세하게만 움직임)
  tl.to(canvas, {
    duration: headDur,
    ease: "power1.out",
    x: () => -fromInInner.x * 0.06,
    y: () => -fromInInner.y * 0.06,
    width:  () => stageW + (inner.clientWidth  - stageW) * 0.06,
    height: () => stageH + (inner.clientHeight - stageH) * 0.06,
    borderRadius: "200px 200px 20px 20px" // 살짝만 풀림(원하면 유지해도 됨)
  }, EXPAND_AT);

  // (B) 본 확대: 은은한 가속/감속으로 끝까지 채움
  tl.to(canvas, {
    duration: bodyDur,
    ease: "power2.inOut",
    x: () => -fromInInner.x,
    y: () => -fromInInner.y,
    width:  () => inner.clientWidth,
    height: () => inner.clientHeight,
    borderRadius: "0px"
  }, EXPAND_AT + headDur);

  /* =========================
      아래 섹션 침범 방지: 커진 만큼 padding-bottom 확보
        - 확대 전체 구간(head+body) 동안 진행률로 여백 증가
  ========================= */
  tl.to(section, {
    duration: expandDur,
    ease: "none",
    onUpdate: function() {
      const p = this.progress();       // 0~1
      const v = needExtra * p;
      section.style.setProperty("--pkg-extra", `${v}px`);
    }
  }, EXPAND_AT);

  /* =========================
     3) frame(썸네일) 페이드
        - 확대 시작부터 서서히 사라지고
        - 확대 구간 FRAME_FADE 비율 시점에 완전히 사라짐
  ========================= */
  if (frame) {
    tl.to(frame, {
      duration: expandDur * FRAME_FADE,
      autoAlpha: 0,
      ease: "power1.out"
    }, EXPAND_AT);
  }

  /* =========================
     4) copy는 끝까지 유지
  ========================= */

  ScrollTrigger.refresh();
});
</script>



<!-- TIMELINE HORIZONTAL SCROLL WRAP -->
<section class="timeline-scroll" id="timelineScroll">
  <div class="timeline-sticky">
    <div class="timeline-track" id="timelineTrack">



<!-- Timeline 1 -->
<section class="timeline1">
    <div class="inner">
        <div class="topBox">
            <h2>Our history</h2>
        </div>
        <div class="bottom">
            <div class="left">
                <span>since</span>
                <h1>2003</h1>
                <p>Where naturalism begins</p>
                <p>'자연주의'라는 새로운 가치를 세상에 첫발을 내디뎠으며,<br>
                자연에서 온 순수한 원료로 건강한 아름다움을 전하는 여정을 시작했습니다.
                </p>
            </div>
        <div class="right">
            <img src="img/timeline.svg" alt="">
        </div>
        <a href="#" class=""></a>
        </div>
    </div>
</section>

<!-- Timeline 2 -->
<section class="timeline2">
    <div class="inner">
        <div class="topBox">
            <h2>Our history</h2>
        </div>
        <div class="bottom">
        <div class="left">
            <img src="img/timeline_2_img.svg" alt="">
            <img src="img/timeline_2_img2.svg" alt="">
        </div>
        <div class="right">
            <span><img src="img/timeline_2_img3.svg" alt=""></span>
                <div class="txt">
                    <p>Expanding horizons with expertise</p>
                    <p>기술력과 인프라를 더해 제품의 안정성과 신뢰를 한층 강화하며<br>더 많은 고객에게   다가갈 수 있는 기반을 마련했습니다.</p>
                    <h1>2009</h1>
                </div>
        </div>
        </div>

    </div>
</section>

<!-- Timeline 3 -->
<section class="timeline3">
    <div class="inner">
        <div class="topBox">
            <h2>Our history</h2>
        </div>
        <div class="bottom">
        <div class="left">
            <img src="img/timeline_3_img.svg" alt="">
            <img src="img/timeline_3_img2.svg" alt="">
        </div>
        <div class="right">
            <div class="txt">
            <h1>2012</h1>
            <span>Discoverinf the energy of seeds</span>
            <p>자연의 생명력이 응축된 '씨앗'을 근원으로 삼아 그 가치를 재발견하고,<br>피부 본연의 힘을 깨우는 더페이스샵만의 차별화된 컨셉을 정립했습니다.</p>
            </div>
        </div>
        </div>
    </div>
</section>

<!-- Timeline 4 -->
<section class="timeline4">
    <div class="inner">
        <div class="topBox">
            <h2>Our history</h2>
        </div>
        <div class="bottom">
            <div class="left_timeline_4">
                <img src="img/timeline_4_img.svg" alt="">
                <img src="img/timeline_4_img2.svg" alt="">
            </div>
            <div class="right">
                <div class="txt">
                <h1>2016</h1>
                <span>Harmonizing nature's wisdom and space</span>
                <p>자연의 지혜와 순수 원료가 어우러진 새로운 공간을 선보였으며,<br>고객과 브랜드가 자연 속에서 교감하는 한 차원 높은 경험을 제안했습니다.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Timeline 5 -->
<section class="timeline5">
    <div class="inner">
        <div class="topBox">
            <h2>Our history</h2>
        </div>
        <div class="bottom">
        <div class="left">
            <img src="img/timeline_5_img.svg" alt="">
            <img src="img/timeline_5_img2.svg" alt="">
        </div>
        <div class="right">
            <div class="txt">
            <span>Beginning the journey for tomorrow</span>
            <p>동물성 원료 베제와 친환경 패키징을 도입하기 시작하며,<br>피부와 지구를 모두 생각하는 가치 소비의 기준을 마련했습니다.</p>
            <h1>2021</h1>
            </div>
        </div>
        </div>
    </div>
</section>

<!-- Timeline 6 -->
<section class="timeline6">
    <div class="inner">
        <div class="topBox">
            <h2>Our history</h2>
        </div>
        <div class="bottom">
            <div class="left">
                <img src="img/timeline_6_img.svg" alt="">
            </div>
            <div class="right">
                <div class="txt">
                <h1>2023</h1>
                <span>Pioneering affordable clean beauty</span>
                <p>자연과 기술의 균형 속에서 정직한 성분의 '클린 뷰티를 실현하며<br>지속 가능한 글로벌 브랜드로 성장하고 있습니다.</p>
                </div>
            </div>
        </div>
    </div>

    </div>
  </div>


</section>


<script>
(() => {
  const scroller = document.getElementById("timelineScroll");
  const track    = document.getElementById("timelineTrack");

  //  id가 없으면 class로라도 잡히게 
  const sticky   =
    document.getElementById("timelineSticky") ||
    scroller?.querySelector(".timeline-sticky");

  if (!scroller || !sticky || !track) {
    console.warn("[timeline] required elements missing", { scroller, sticky, track });
    return;
  }

  /* =========================
     시작을 "엄청 늦추기" (값 크게 할수록 더 오래 멈춤)
     1.0 = 100vh 대기
     2.5 = 250vh 대기 (추천)
     4.0 = 400vh 대기 (진짜 오래 멈춤)
  ========================= */
  const LEAD_IN_VH = 1.8;

  let maxTranslate = 0;

  // sticky가 상단에 붙는 시점(= timeline1이 화면 가득 찬 순간)
  let baseStartY = 0;

  // 대기(lead-in) 끝나고 실제로 움직이기 시작하는 시점
  let effectiveStartY = 0;

  let ticking = false;

  // 드래그
  let isDragging = false;
  let startClientX = 0;
  let startTranslate = 0;

  const clamp = (n, min, max) => Math.min(max, Math.max(min, n));

  function getCurrentTranslateX() {
    const st = getComputedStyle(track).transform;
    if (!st || st === "none") return 0;
    const m = new DOMMatrixReadOnly(st);
    return m.m41;
  }

  function setTranslateX(x) {
    track.style.transform = `translate3d(${x}px,0,0)`;
  }

  function update() {
    ticking = false;
    if (isDragging) return;

    const y = window.scrollY || window.pageYOffset;

    //  lead-in 이후부터만 progress 증가
    const progress = maxTranslate === 0
      ? 0
      : clamp((y - effectiveStartY) / maxTranslate, 0, 1);

    setTranslateX(-progress * maxTranslate);
  }

  function onScroll() {
    if (!ticking) {
      ticking = true;
      requestAnimationFrame(update);
    }
  }

  function measure() {
    //  항상 초기화(리사이즈/리프레시 때 "이미 밀려있는 상태" 방지)
    setTranslateX(0);

    const total = track.scrollWidth;
    const vw = window.innerWidth;
    maxTranslate = Math.max(0, total - vw);

    const leadInPx = window.innerHeight * LEAD_IN_VH;

    //  sticky가 scroller 안에서 위에서부터 바로 시작하지 않을 수도 있으니 offsetTop 반영
    const stickyOffsetTop = sticky.offsetTop || 0;

    //  scroller 세로 길이 = (sticky가 붙기 전 공간) + (sticky 1화면) + (대기) + (이동)
    //  - stickyOffsetTop만큼도 포함해줘야 "대기+이동" 구간이 잘 생김
    scroller.style.height = (stickyOffsetTop + window.innerHeight + leadInPx + maxTranslate) + "px";

    const rect = scroller.getBoundingClientRect();
    const pageY = window.scrollY || window.pageYOffset;
    const scrollerTopOnPage = rect.top + pageY;

    //  "sticky가 top:0에 붙는 순간" = scrollerTop + stickyOffsetTop
    baseStartY = scrollerTopOnPage + stickyOffsetTop;

    //  그 뒤 lead-in(대기) 끝난 다음부터 실제 이동
    effectiveStartY = baseStartY + leadInPx;

    update();
  }

  function snapToNearestPanel() {
    const vw = window.innerWidth;
    if (vw <= 0) return;

    const currentX = getCurrentTranslateX(); // 음수
    const currentPos = -currentX;            // 0~maxTranslate

    const idx = Math.round(currentPos / vw);
    const targetPos = clamp(idx * vw, 0, maxTranslate);
    const targetX = -targetPos;

    track.style.transition = "transform 300ms ease";
    setTranslateX(targetX);

    //  세로 스크롤도 (effectiveStartY + pos)로 동기화
    const targetY = effectiveStartY + targetPos;
    window.scrollTo({ top: targetY, behavior: "smooth" });

    setTimeout(() => {
      track.style.transition = "";
    }, 320);
  }

  // ===== Pointer Drag =====
  function onPointerDown(e) {
    isDragging = true;
    startClientX = e.clientX;
    startTranslate = getCurrentTranslateX();
    track.style.transition = "";

    try { scroller.setPointerCapture(e.pointerId); } catch(_) {}
  }

  function onPointerMove(e) {
    if (!isDragging) return;

    const dx = e.clientX - startClientX;
    let nextX = startTranslate + dx;

    nextX = clamp(nextX, -maxTranslate, 0);
    setTranslateX(nextX);

    // 드래그 중에도 세로 스크롤 동기화(lead-in 이후 기준)
    const pos = -nextX;
    window.scrollTo(0, effectiveStartY + pos);
  }

  function onPointerUp(e) {
    if (!isDragging) return;
    isDragging = false;

    try { scroller.releasePointerCapture(e.pointerId); } catch(_) {}
    snapToNearestPanel();
  }

  // init
  window.addEventListener("load", measure);
  window.addEventListener("resize", measure);
  window.addEventListener("scroll", onScroll, { passive: true });

  scroller.addEventListener("pointerdown", onPointerDown);
  scroller.addEventListener("pointermove", onPointerMove);
  scroller.addEventListener("pointerup", onPointerUp);
  scroller.addEventListener("pointercancel", onPointerUp);
})();
</script>





















    <section class="beauty">
        <div class="inner">
            <div class="beauty-title">
                <h1 class="tit">Nature-Powered<br><span>Beauty</span></h1>
                <p class="txt">Clean, calming, and made for your skin's balance and everyday comfort</p>
            </div>
            <div class="beauty-product">


                <ul class="card a">
                    <li>
                        <a href="#">
                            <img src="img/brand_1.png" alt="">
                        </a>
                    </li>

                    <li class="logo">
                        <a href="#" class="name">
                            <img src="img/brand_name1.svg" alt="">
                        </a>
                    </li>


                    <li>
                        <a href="#">
                            <img src="img/brand_2.png" alt="">
                        </a>
                    </li>


                    <li class="logo">
                        <a href="#" class="name">
                            <img src="img/brand_name2.svg" alt="">
                        </a>
                    </li>


                    <li>
                        <a href="#">
                            <img src="img/brand_3.png" alt="">
                        </a>
                    </li>
                </ul>


                <ul class="card b">
                    <li>
                        <a href="#">
                            <img src="img/brand_4.png" alt="">
                        </a>
                    </li>
                    <li class="logo">
                        <a href="#" class="name">
                            <img src="img/brand_name3.svg" alt="">
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <img src="img/brand_5.png" alt="">
                        </a>
                    </li>
                    <li class="logo">
                        <a href="#" class="name">
                            <img src="img/brand_name4.svg" alt="">
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <img src="img/brand_6.png" alt="">
                        </a>
                    </li>
                </ul>




                <ul class="card c">
                    <li>
                        <a href="#">
                            <img src="img/brand_7.png" alt="">
                        </a>
                    </li>
                    <li class="logo">
                        <a href="#" class="name">
                            <img src="img/brand_name5.svg" alt="">
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <img src="img/brand_8.png" alt="">
                        </a>
                    </li>
                    <li class="logo">
                        <a href="#" class="name">
                            <img src="img/brand_name6.svg" alt="">
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <img src="img/brand_9.png" alt="">
                        </a>
                    </li>
                </ul>


                <ul class="card d">
                    <li>
                        <a href="#">
                            <img src="img/brand_10.png" alt="">
                        </a>
                    </li>
                    <li class="logo">
                        <a href="#" class="name">
                            <img src="img/brand_name7.svg" alt="">
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <img src="img/brand_11.png" alt="">
                        </a>
                    </li>
                    <li class="logo">
                        <a href="#" class="name">
                            <img src="img/brand_name8.svg" alt="">
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <img src="img/brand_12.png" alt="">
                        </a>
                    </li>
                </ul>



                <ul class="card f">
                    <li>
                        <a href="#">
                            <img src="img/brand_13.png" alt="">
                        </a>
                    </li>
                    <li class="logo">
                        <a href="#" class="name">
                            <img src="img/brand_name9.svg" alt="">
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <img src="img/brand_14.png" alt="">
                        </a>
                    </li>
                    <li class="logo">
                        <a href="#" class="name">
                            <img src="img/brand_name10.svg" alt="">
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <img src="img/brand_15.png" alt="">
                        </a>
                    </li>
                </ul>


            </div>
        </div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const wrap = document.querySelector('.beauty .beauty-product');
  if (!wrap) return;

  const cols = Array.from(wrap.querySelectorAll('ul.card'));
  const SPEED = 28; // px/sec (18~40 조절 가능)

  /* =====================================================
     1) ul 내부 li 1회 복제 (무한 루프 준비)
  ===================================================== */
  cols.forEach((ul) => {
    if (ul.dataset.loopReady === "1") return;

    const items = Array.from(ul.children);
    items.forEach(li => ul.appendChild(li.cloneNode(true)));

    ul.dataset.loopReady = "1";
  });

  /* =====================================================
     2) offset / half 값
  ===================================================== */
  let offsets = new Array(cols.length).fill(0);
  let halves  = new Array(cols.length).fill(0);

  /* =====================================================
     3) 높이 재계산 ( display:none 대응 + 무한루프 방어)
  ===================================================== */
  function recalc() {
    cols.forEach((ul, idx) => {
      const total = ul.scrollHeight;

      //  반응형에서 display:none 되면 scrollHeight = 0
      if (!total || !isFinite(total)) {
        halves[idx] = 0;
        return;
      }

      const half = total / 2;
      if (!half || !isFinite(half)) {
        halves[idx] = 0;
        return;
      }

      halves[idx] = half;

      const isOddCol = (idx % 2 === 0); // 1,3,5열

      // 짝수열은 -half에서 시작
      if (!isOddCol && offsets[idx] === 0) {
        offsets[idx] = -half;
      }

      // offset 범위 정리 ( half=0일 때 while 무한 방지됨)
      if (isOddCol) {
        while (offsets[idx] <= -half) offsets[idx] += half;
        while (offsets[idx] > 0)      offsets[idx] -= half;
      } else {
        while (offsets[idx] >= 0)     offsets[idx] -= half;
        while (offsets[idx] < -half)  offsets[idx] += half;
      }
    });
  }

  /* =====================================================
     4) RAF 애니메이션
  ===================================================== */
  let rafId = null;
  let last = performance.now();

  function start(){
    if (rafId) cancelAnimationFrame(rafId);
    last = performance.now();
    rafId = requestAnimationFrame(tick);
  }

  function tick(now){
    const dt = (now - last) / 1000;
    last = now;

    cols.forEach((ul, idx) => {
      const half = halves[idx];
      if (!half) return; //  숨겨진 컬럼 스킵

      const isOddCol = (idx % 2 === 0);
      const dir = isOddCol ? -1 : 1;

      offsets[idx] += dir * SPEED * dt;

      // 루프 유지
      if (isOddCol) {
        if (offsets[idx] <= -half) offsets[idx] += half;
      } else {
        if (offsets[idx] >= 0) offsets[idx] -= half;
      }

      ul.style.transform = `translateY(${offsets[idx]}px)`;
    });

    rafId = requestAnimationFrame(tick);
  }

  /* =====================================================
     5) 로드 / 리사이즈 처리 ( 디바운스)
  ===================================================== */
  window.addEventListener('load', () => {
    recalc();
    start();
  });

  let resizeTimer = null;
  window.addEventListener('resize', () => {
    clearTimeout(resizeTimer);
    resizeTimer = setTimeout(() => {
      recalc();
    }, 120); // ⭐ resize 폭주 방지
  });

});
</script>


    </section>












<footer> 
            <div class="inner">
                <div class="top-box">
                    <div class="left-box">
                            <ul>
                                <li class="tit">Support</li>
                                <li>
                                    <a href="#">FAQs</a>
                                </li>
                                <li>
                                    <a href="#">Account</a>
                                </li>
                                <li>
                                    <a href="#">Contact us</a>
                                </li>
                            </ul>

                            <ul>
                                <li class="tit">Support</li>
                                <li>
                                    <a href="#">FAQs</a>
                                </li>
                                <li>
                                    <a href="#">Account</a>
                                </li>
                                <li>
                                    <a href="#">Contact us</a>
                                </li>
                            </ul>

                            <ul>
                                <li class="tit">Support</li>
                                <li>
                                    <a href="#">FAQs</a>
                                </li>
                                <li>
                                    <a href="#">Account</a>
                                </li>
                                <li>
                                    <a href="#">Contact us</a>
                                </li>
                            </ul>

                            <ul>
                                <li class="tit">Support</li>
                                <li>
                                    <a href="#">FAQs</a>
                                </li>
                                <li>
                                    <a href="#">Account</a>
                                </li>
                                <li>
                                    <a href="#">Contact us</a>
                                </li>
                            </ul>

                            <ul>
                                <li class="tit">Support</li>
                                <li>
                                    <a href="#">FAQs</a>
                                </li>
                                <li>
                                    <a href="#">Account</a>
                                </li>
                                <li>
                                    <a href="#">Contact us</a>
                                </li>
                            </ul>

                            <ul>
                                <li class="tit">Support</li>
                                <li>
                                    <a href="#">FAQs</a>
                                </li>
                                <li>
                                    <a href="#">Account</a>
                                </li>
                                <li>
                                    <a href="#">Contact us</a>
                                </li>
                            </ul>
                    </div>
                    <div class="right-box">
                        <ul>
                            <li>Enter Your email</li>
                            <li><img src="img/arrow.svg" alt=""></li>
                        </ul>
                    </div>
                </div>
                <div class="bottom-box">
                    <p class="logo"><img src="img/logo_2.svg" alt=""></p>
                    <p class="text">© THE FACE SHOP, Inc. All rights reserved. 2025</p>

                    <a href="img/"></a>
                </div>
            </div>
        </footer>
    </div>
</body>
</html>